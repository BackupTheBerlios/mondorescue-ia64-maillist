<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mondorescue-ia64] R: R: R: R: R: R: R: R: R:	RecoveryfromtapeKO(OBDR)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mondorescue-ia64/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:mondorescue-ia64%40lists.berlios.de?Subject=Re%3A%20%5BMondorescue-ia64%5D%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%0A%09RecoveryfromtapeKO%28OBDR%29&In-Reply-To=%3C81FB9FBE83D9134AAC7D9884ACDF130B01B962B6%40BESONE.corp.dom%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000058.html">
   <LINK REL="Next"  HREF="000053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mondorescue-ia64] R: R: R: R: R: R: R: R: R:	RecoveryfromtapeKO(OBDR)</H1>
    <B>Grassi Giuseppe</B> 
    <A HREF="mailto:mondorescue-ia64%40lists.berlios.de?Subject=Re%3A%20%5BMondorescue-ia64%5D%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%20R%3A%0A%09RecoveryfromtapeKO%28OBDR%29&In-Reply-To=%3C81FB9FBE83D9134AAC7D9884ACDF130B01B962B6%40BESONE.corp.dom%3E"
       TITLE="[Mondorescue-ia64] R: R: R: R: R: R: R: R: R:	RecoveryfromtapeKO(OBDR)">giuseppe.grassi2 at italtel.it
       </A><BR>
    <I>Thu Mar 19 17:36:32 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000058.html">[Mondorescue-ia64] R: R: R: R: R: R: R: R:	Recovery	fromtapeKO(OBDR)
</A></li>
        <LI>Next message: <A HREF="000053.html">[Mondorescue-ia64] R: R: R: R: R: R: Recovery from tape KO(OBDR)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bruno,
my comments in the e-mail text.

Thanks 
Best Regards
Giuseppe


&gt;<i> Da: Bruno Cornec [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/mondorescue-ia64">Bruno.Cornec at hp.com</A>] 
</I>&gt;<i> Inviato: mercoled&#236; 18 marzo 2009 13.26
</I>&gt;<i> A: Grassi Giuseppe
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/mondorescue-ia64">mondorescue-ia64 at lists.berlios.de</A>
</I>&gt;<i> Oggetto: Re: R: R: R: R: R: R: [Mondorescue-ia64] R: R: 
</I>&gt;<i> RecoveryfromtapeKO(OBDR)
</I>&gt;<i> 
</I>&gt;<i> Hello Giuseppe,
</I>&gt;<i> 
</I>&gt;<i> Thanks for coming back with the right info !
</I>&gt;<i> 
</I>&gt;<i> How are you dealing with the updates I provide to you ? I see in your
</I>&gt;<i> log:
</I>&gt;<i> init (from mindi vPBVER-rPBREV)
</I>&gt;<i> Which could imply that you're workign from SVN directly, 
</I>&gt;<i> without packaging ? is it the case ? 
</I>&gt;<i> Just curious (and could also have impact on the way it works)
</I>&gt;<i> 
</I>&gt;<i> And maybe it could be easier for your to rpmbuild --rebuild 
</I>&gt;<i> the .src.rpm of 2.2.9 rather than to apply selected patches, 
</I>&gt;<i> but I let you decide of course.
</I>
Sorry. I have found the 2.2.9 version for mondo only instead init module is in mindi so I have download the new init module, directly from link  <A HREF="http://trac.mondorescue.org/changeset/2163">http://trac.mondorescue.org/changeset/2163</A>).

Now, I have checked and I have found mindi-2.0.7-1.rhel4.src.rpm under   .../test/rhel/4 directory. I test backup/recovery newly with mindi-2.0.7 and mondo-2.2.9-1. It is Ok, like the previous test (parted2fdisk has 2 probems &quot;use stricts&quot; and -w option). Mondorestore.log is attached.
 

&gt;<i> Grassi Giuseppe said on Mon, Mar 16, 2009 at 04:29:01PM +0100:
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; On my side I have that:
</I>&gt;<i> &gt; &gt; $ perl -c mindi/parted2fdisk.pl
</I>&gt;<i> &gt; &gt; mindi/parted2fdisk.pl syntax OK
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Perl compilation log is attached.
</I>&gt;<i> 
</I>&gt;<i> Ok, so your perl installation seems really special to me. 
</I>&gt;<i> strict.pm is part of perl since years now. Here I have:
</I>&gt;<i> 
</I>&gt;<i> &gt; locate strict.pm
</I>&gt;<i> /home/rinse/centos/4/x86_64/usr/lib/perl5/5.8.5/strict.pm 
</I>&gt;<i> (local CentOS 4 chroot) 
</I>&gt;<i> /home/rinse/centos/5/x86_64/usr/lib/perl5/5.8.8/strict.pm 
</I>&gt;<i> (local CentOS 5 chroot) /usr/lib/perl5/5.10.0/strict.pm  
</I>&gt;<i> (Local Mandriva 2009.0 version)
</I>&gt;<i> 
</I>&gt;<i> Could you try to see on your system if you can find any strict.pm ?
</I>&gt;<i> Also check the result of rpm -ql perl | grep -i strict
</I>&gt;<i> 
</I>&gt;<i> I don't understand why you don't have it.
</I>
# locate strict.pm
/usr/lib/perl5/5.8.5/strict.pm

but during recovery phase, before that &quot;post-init&quot; run the mondorestore, the strict.pm is not present:
# find / -name strict.pm
# find / -name perl*
/usr/bin/perl
#


&gt;<i> 
</I>&gt;<i> &gt; OK in mondo-2.2.9-1.rhel4 &quot;touch /boot/boot.b&quot; is not present.
</I>&gt;<i> &gt; OK  &quot;init&quot; in changeset 2163
</I>&gt;<i> 
</I>&gt;<i> OK, some good news then.
</I>&gt;<i> 
</I>&gt;<i> &gt; OK with mondo-2.2.9-1 rhel4, format-and-kludge-vfat is present but 
</I>&gt;<i> &gt; doesn't work correctly
</I>&gt;<i> 
</I>&gt;<i> Ah. Progress is often done step by step ;-)
</I>&gt;<i> 
</I>&gt;<i> &gt; I think sed command is not correct for cciss disks. Drive will be 
</I>&gt;<i> &gt; /dev/cciss/c0d0  not/dev/cciss/cd0p1. sed command is 
</I>&gt;<i> correct in case 
</I>&gt;<i> &gt; of scsi direct attached disk: /dev/scsi/sda1 but is not correct for 
</I>&gt;<i> &gt; smartarray controller disks
</I>&gt;<i> 
</I>&gt;<i> In fact, that has been fixed elsewhere, but of course not 
</I>&gt;<i> there as that script wasn't really used it seem. Will look at 
</I>&gt;<i> it and come back to you.
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; &gt; a
</I>&gt;<i> &gt; &gt; &gt; 00
</I>&gt;<i> &gt; &gt; &gt; part=00
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Ok, so mondorestore doesn't pass the correct value to 
</I>&gt;<i> parted2fdisk. 
</I>&gt;<i> &gt; &gt; It's clear from that log portion :-( I need to find why 
</I>&gt;<i> if you can 
</I>&gt;<i> &gt; &gt; call it with -K99 that may help.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In attach the mondorestore.log run with -K99 option
</I>&gt;<i> 
</I>&gt;<i> Great I see where the problem is. May I ask again for 2 
</I>&gt;<i> additional tests
</I>&gt;<i> please:
</I>&gt;<i> 
</I>&gt;<i> First run mindi --makemountlist /tmp/mountlist.txt to create 
</I>&gt;<i> that file and then sh -x 
</I>&gt;<i> /usr/local/share/mondo/restore-scripts/mondo/make-me-bootable 
</I>&gt;<i> /tmp/mountlist.txt dummy
</I>&gt;<i> 
</I>&gt;<i> And send me the result of this execution please. This is 
</I>&gt;<i> where the &quot;00&quot;
</I>&gt;<i> is created.
</I>
In attach the log of &quot;make-me-bootable&quot; execution whit set -x and the mountlist.txt file

Remember that I have modify /usr/sbin/mindi in order to have a correct file mountlist.txt. See my e-mail February 02 2009 (attached) otherwise the size of partition 2 in mountlist.txt is not correct.

&gt;<i> Thanks again for your help.
</I>&gt;<i> Best regards,
</I>&gt;<i> Bruno.
</I>&gt;<i> -- 
</I>&gt;<i> Linux Profession Lead EMEA  / Open Source Ambassador \   EMEA 
</I>&gt;<i> CME Sol. Center
</I>&gt;<i> <A HREF="http://www.mondorescue.org">http://www.mondorescue.org</A> / HP/Intel Solution Center \  
</I>&gt;<i> <A HREF="http://hpintelco.net">http://hpintelco.net</A>
</I>&gt;<i> Des infos sur Linux?  <A HREF="http://www.HyPer-Linux.org">http://www.HyPer-Linux.org</A>      
</I>&gt;<i> <A HREF="http://www.hp.com/linux">http://www.hp.com/linux</A>
</I>&gt;<i> La musique ancienne?  <A HREF="http://www.musique-ancienne.org">http://www.musique-ancienne.org</A> 
</I>&gt;<i> <A HREF="http://www.medieval.org">http://www.medieval.org</A>
</I>&gt;<i> 
</I>

Internet Email Confidentiality Footer
-----------------------------------------------------------------------------------------------------
La presente comunicazione, con le informazioni in essa contenute e ogni documento o file allegato, e' rivolta unicamente alla/e persona/e cui e' indirizzata ed alle altre da questa autorizzata/e a riceverla. Se non siete i destinatari/autorizzati siete avvisati che qualsiasi azione, copia, comunicazione, divulgazione o simili basate sul contenuto di tali informazioni e' vietata e potrebbe essere contro la legge (art. 616 C.P., D.Lgs n. 196/2003 Codice in materia di protezione dei dati personali). Se avete ricevuto questa comunicazione per errore, vi preghiamo di darne immediata notizia al mittente e di distruggere il messaggio originale e ogni file allegato senza farne copia alcuna o riprodurne in alcun modo il contenuto. 

This e-mail and its attachments are intended for the addressee(s) only and are confidential and/or may contain legally privileged information. If you have received this message by mistake or are not one of the addressees above, you may take no action based on it, and you may not copy or show it to anyone; please reply to this e-mail and point out the error which has occurred. 
-----------------------------------------------------------------------------------------------------

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: make-me-bootable.log.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment.txt">https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment.txt</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: mountlist.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment-0001.txt">https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment-0001.txt</A>&gt;
-------------- next part --------------
An embedded message was scrubbed...
From: &quot;Grassi Giuseppe&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mondorescue-ia64">giuseppe.grassi2 at italtel.it</A>&gt;
Subject: R: R: R: [Mondorescue-ia64] R:  R: Recovery from tape KO(OBDR)
Date: Tue, 3 Feb 2009 20:21:20 +0100
Size: 4553
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment.mht">https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment.mht</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mondorestore.zip
Type: application/x-zip-compressed
Size: 18913 bytes
Desc: mondorestore.zip
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment.bin">https://lists.berlios.de/pipermail/mondorescue-ia64/attachments/20090319/4d97a72d/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000058.html">[Mondorescue-ia64] R: R: R: R: R: R: R: R:	Recovery	fromtapeKO(OBDR)
</A></li>
	<LI>Next message: <A HREF="000053.html">[Mondorescue-ia64] R: R: R: R: R: R: Recovery from tape KO(OBDR)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mondorescue-ia64">More information about the Mondorescue-ia64
mailing list</a><br>
</body></html>
